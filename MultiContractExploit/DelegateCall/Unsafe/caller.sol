pragma solidity ^0.5.0;

import "browser/callee.sol";

contract caller{
    mapping(address=>uint) balances;
    
    address pseudoLibrary;
    constructor(address _pseudoLibrary) public{
        pseudoLibrary=_pseudoLibrary;
    }
    
    function() external payable {
        if (msg.value > 0){
            balances[msg.sender]+=msg.value;
        }
        else if (msg.data.length > 0){
            pseudoLibrary.delegatecall(abi.encodePacked(bytes4(keccak256("calledFunction()"))));
        }
  }
  
    function getBalance() public view returns(uint){
        return balances[msg.sender];
    }
  
}
